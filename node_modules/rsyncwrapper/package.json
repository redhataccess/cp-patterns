{
  "_args": [
    [
      {
        "raw": "rsyncwrapper@~0.4.1",
        "scope": null,
        "escapedName": "rsyncwrapper",
        "name": "rsyncwrapper",
        "rawSpec": "~0.4.1",
        "spec": ">=0.4.1 <0.5.0",
        "type": "range"
      },
      "/var/www/html/node_modules/grunt-rsync"
    ]
  ],
  "_from": "rsyncwrapper@>=0.4.1 <0.5.0",
  "_id": "rsyncwrapper@0.4.3",
  "_inCache": true,
  "_location": "/rsyncwrapper",
  "_npmUser": {
    "name": "jedrichards",
    "email": "jedrichards@gmail.com"
  },
  "_npmVersion": "1.4.28",
  "_phantomChildren": {},
  "_requested": {
    "raw": "rsyncwrapper@~0.4.1",
    "scope": null,
    "escapedName": "rsyncwrapper",
    "name": "rsyncwrapper",
    "rawSpec": "~0.4.1",
    "spec": ">=0.4.1 <0.5.0",
    "type": "range"
  },
  "_requiredBy": [
    "/grunt-rsync"
  ],
  "_resolved": "https://registry.npmjs.org/rsyncwrapper/-/rsyncwrapper-0.4.3.tgz",
  "_shasum": "ade3a66557067ab4f637ec847cc1abeb2d9d0066",
  "_shrinkwrap": null,
  "_spec": "rsyncwrapper@~0.4.1",
  "_where": "/var/www/html/node_modules/grunt-rsync",
  "author": {
    "name": "Jed Richards",
    "email": "jed@seisaku.co.uk"
  },
  "bugs": {
    "url": "https://github.com/jedrichards/rsyncwrapper/issues"
  },
  "dependencies": {
    "lodash": "~2.4.1"
  },
  "description": "An async wrapper to the rsync command line utility for Node.js.",
  "devDependencies": {
    "grunt": "~0.4.0",
    "grunt-contrib-clean": "~0.5.0",
    "grunt-contrib-jshint": "~0.8.0",
    "grunt-shell": "~0.6.4",
    "grunt-vows": "~0.4.0",
    "vows": "~0.7.0"
  },
  "directories": {},
  "dist": {
    "shasum": "ade3a66557067ab4f637ec847cc1abeb2d9d0066",
    "tarball": "https://registry.npmjs.org/rsyncwrapper/-/rsyncwrapper-0.4.3.tgz"
  },
  "engines": {
    "node": ">=0.10.25"
  },
  "gitHead": "c155940338c4a2c9da84cc03a6d3e8cdb2050b43",
  "homepage": "https://github.com/jedrichards/rsyncwrapper",
  "keywords": [
    "rsync",
    "command line utility wrapper",
    "async",
    "syncing",
    "copying",
    "file manipulation",
    "remote",
    "ssh"
  ],
  "license": "MIT",
  "main": "lib/rsyncwrapper",
  "maintainers": [
    {
      "name": "jedrichards",
      "email": "jed@seisaku.co.uk"
    }
  ],
  "name": "rsyncwrapper",
  "optionalDependencies": {},
  "readme": "## rsyncwrapper\n\nAn async wrapper to the rsync command line utility for Node.js. Also available as the Grunt task [grunt-rsync](https://github.com/jedrichards/grunt-rsync).\n\n### Release notes\n\n- `0.4.3` Added the `excludeFirst` option. See [#34](https://github.com/jedrichards/rsyncwrapper/issues/34).\n- `0.4.2` Add default `chmod` arguments on Windows to fix NTFS permissions, see [#28](https://github.com/jedrichards/rsyncwrapper/issues/28).\n- `0.4.1` Renamed `syncDest` and `syncDestIgnoreExcl` options to the more scary sounding `deleteAll` and `delete` options in an effort to avoid potential user data loss due to misconfiguration. Updated docs to use the new option names. The old option names will continue to work.\n- `0.4.0` Reworking the way stdin is passed from the process to the rsync child process to facilitate Windows clients being able to read a passphrase from stdin.\n- `0.3.0` Swapping include/exclude order in the generated rsync command. Includes now come before excludes to faciliate the normal way of excluding file patterns with exceptions in rsync. See [#16](https://github.com/jedrichards/rsyncwrapper/pull/16).\n- `0.2.0` Now launching the rsync command in a shell like `child_process.exec` [does in Node Core](https://github.com/joyent/node/blob/937e2e351b2450cf1e9c4d8b3e1a4e2a2def58bb/lib/child_process.js#L589). This enables us to use `spawn`, and avoid `exec` `maxBuffer`, while retaining full shell wildcard expansion.\n- `0.1.0` Now using `child_process.exec` as opposed to `child_process.spawn` to enable proper shell wildcard expansions in the `options.src` value. SSH option handling has been improved.\n- `0.0.1` Initial release.\n\n### Prerequisites\n\nA reasonably modern version of rsync (>=2.6.9) in your PATH.\n\n### Installation\n\n    $ npm install rsyncwrapper\n\n### Usage\n\n```javascript\nvar rsync = require(\"rsyncwrapper\").rsync;\nrsync(options,[callback]);\n```\n\nThe `callback` function gets four arguments `(error,stdout,stderr,cmd)`.\n\n`error`: An `Error` object if rsync failed, otherwise `null`.\n\n`stdout`: stdout from rsync.\n\n`stderr`: stderr from rsync.\n\n`cmd`: The command string that was used to invoke rsync for debugging purposes.\n\nThe `options` argument is an object literal. See below for possible fields.\n\n### Options\n\n##### `src [String|Array<String>] *required`\n\nPath to src. Can be a single filename, or an array of filenames. Shell wildcard expansion is supported. Examples:\n\n```\nsrc: \"./dist/\"\nsrc: [\"./dir-a/file1\",\"./dir-b/file2\"]\nsrc: \"./*.foo\"\nsrc: \"foo{1,2,3}.txt\"\netc.\n```\n\n##### `dest [String] *required`\n\nPath to destination. Example, `\"/var/www/mysite.tld\"`.\n\n##### `ssh [Bool] default: false`\n\nRun rsync over ssh.  This is `false` by default.  To use this you need to have public/private key passwordless ssh access setup and working between your workstation and your host.  If set to `true`, you should specify ssh host data as part of your `src` or `dest` values, e.g. `user@1.2.3.4:/var/www/site`.\n\nAnother good approach is to define a host alias in your ssh config and just reference that alias in your rsync options.\n\n##### `port [String]`\n\nIf your ssh host uses a non standard SSH port then set it here. Example, `\"1234\"`.\n\n##### `privateKey [String]`\n\nTo specify an SSH private key other than the default for this host. Example, `\"~/.ssh/aws.pem\"`\n\n##### `recursive [Boolean] default: false`\n\nRecurse into directories. This is `false` by default which means only files in the `src` root are copied. Equivalent to the `--recursive` rsync command line flag.\n\n##### :exclamation: `deleteAll [Boolean] default: false`\n\nTake care with this option, since misconfiguration could cause data loss. Deletes objects in `dest` that aren't present in `src`, also deletes files in `dest` that have been specifically excluded from transfer. Equivalent to setting both the `--delete` and `--delete-excluded` rsync flags.\n\n##### :exclamation: `delete [Boolean] default: false`\n\nTake care with this option, since misconfiguration could cause data loss. The same as `deleteAll`, but without the `--delete-excluded` behaviour. One use case for using this option could be while syncing a Node app to a server: you want to exclude transferring the local `node_modules` folder while retaining the remote `node_modules` folder.\n\n##### `compareMode [String] enum: \"checksum\"|\"sizeOnly\"`\n\nBy default files will be compared by modified date and file size. Set this value to `checksum` to compare by a 128bit checksum, or `sizeOnly` to compare only by file size.\n\n##### `include [Array<String>]`\n\nOptional array of rsync patterns to include in the transfer, if previously excluded. Include patterns are defined before exclude patterns when building the rsync command.\n\n##### `exclude [Array<String>]`\n\nOptional array of rsync patterns to exclude from transfer.  Include patterns are defined before exclude patterns when building the rsync command.\n\n##### `excludeFirst [Array<String>]`\n\nOptional array of rsync patterns to exclude from transfer. These are defined *before* the include patterns when building the rsync command. This is useful to exclude specific files or folders that would be included by the include patterns.\n\n##### `dryRun [Boolean] default: false`\n\nBuffer verbose information to stdout about the actions rsyncwrapper would take without modifying the filesystem. Equivalent to setting both the `--dry-run` and `--verbose` rsync command line flags.\n\n#### `onStdout [Function]`\n\nOptional callback function. Called every time rsync outputs to `stdout`. Use this to print rsync output as it happens, rather than all at the end. Example: `function (data) { console.log(data) }`.\n\n#### `onStderr [Function]`\n\nOptional callback function. Called every time rsync outputs to `stderr`. Use this to print rsync error output as it happens, rather than all at the end. Example: `function (data) { console.log(data) }`.\n\n##### `args [Array<String>]`\n\nArray of additional arbitrary rsync command line options and flags.\n\nThe above options are provided for convenience and are designed to cover the most common use cases for rsync, they don't necessarily map directly to single rsync arguments with the same names. If you'd like to handcraft your rsync command then just use the `src`, `dest` and `args` options.\n\nFor extra information and subtlety relating to rsync options please consult the [rsync manpages](http://linux.die.net/man/1/rsync).\n\n### Tests\n\nBasic tests are run on [Vows Async BDD](http://vowsjs.org/) via this package's Gruntfile. To test rsyncwrapper clone the repo and ensure that the devDependancies are present. Additionally ensure that Grunt and Vows are installed globally, and then invoke:\n\n    $ npm test\n\n### Examples\n\nCopy a single file to another location. If the `dest` folder doesn't exist rsync will do a `mkdir` and create it. However it will only `mkdir` one missing directory deep (i.e. not the equivalent of `mkdir -p`).\n\n```javascript\nrsync({\n    src: \"file.txt\",\n    dest: \"tmp/file.txt\"\n},function (error,stdout,stderr,cmd) {\n    if ( error ) {\n        // failed\n        console.log(error.message);\n    } else {\n        // success\n    }\n});\n```\n\nCopy the contents of a directory to another folder, while excluding `txt` files. Note the trailing `/` on the `src` folder and the absence of a trailing `/` on the `dest` folder - this is the required format when copying the contents of a folder. Again rsync will only `mkdir` one level deep:\n\n```javascript\nrsync({\n    src: \"src-folder/\",\n    dest: \"dest-folder\",\n    recursive: true,\n    exclude: [\"*.txt\"]\n},function (error,stdout,stderr,cmd) {\n    if ( error ) {\n        // failed\n        console.log(error.message);\n    } else {\n        // success\n    }\n});\n```\n\nSyncronise the contents of a directory on a remote host with the contents of a local directory. The `deleteAll` option will delete all files on the remote host that either aren't present in the local folder or have been excluded from transfer.\n\n```javascript\nrsync({\n    src: \"local-src/\",\n    dest: \"user@1.2.3.4:/var/www/remote-dest\",\n    ssh: true,\n    recursive: true,\n    deleteAll: true // Careful, this could cause data loss\n},function (error,stdout,stderr,cmd) {\n    if ( error ) {\n        // failed\n        console.log(error.message);\n    } else {\n        // success\n    }\n});\n```\n\n## TODO\n\n- Add tests to cover usage of more options.\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git://github.com/jedrichards/rsyncwrapper.git"
  },
  "scripts": {
    "test": "grunt test"
  },
  "version": "0.4.3"
}
